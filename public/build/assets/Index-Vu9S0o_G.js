import{J as o,r as h,j as e,Q as j}from"./app-aKzVPUA-.js";import{A as u}from"./AuthenticatedLayout-57bNujf2.js";import"./transition-CUXbCy6r.js";function v({permissionMatrix:c,roleDefinitions:r,permissionDescriptions:i}){const{auth:g}=o().props,[l,x]=h.useState(""),n=s=>s?"✅":"❌",d=s=>s?"bg-green-100 text-green-800":"bg-red-100 text-red-800",m=s=>{const a=s.target.value;x(a),a&&fetch(route("admin.permissions.role",a)).then(t=>t.json()).then(t=>{console.log("Role permissions:",t)})};return e.jsxs(u,{header:e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Gerenciamento de Permissões"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Visualizar e gerenciar permissões de usuários por função"})]})}),children:[e.jsx(j,{title:"Gerenciamento de Permissões"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6",children:[e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Definições de Funções"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Descrição das funções disponíveis no sistema"})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.entries(r).map(([s,a])=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:a.name}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:a.description}),e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Materiais:"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:a.materials.map(t=>e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:t},t))})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Fornecedores:"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:a.suppliers.map(t=>e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:t},t))})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Inventário:"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:a.inventory.map(t=>e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-purple-100 text-purple-800",children:t},t))})]})]})]},s))})})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Descrição das Permissões"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"O que cada permissão permite fazer no sistema"})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Object.entries(i).map(([s,a])=>e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium text-gray-900 capitalize",children:s}),e.jsx("div",{className:"space-y-2",children:Object.entries(a).map(([t,p])=>e.jsxs("div",{className:"border-l-4 border-blue-200 pl-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700",children:t}),e.jsx("div",{className:"text-xs text-gray-500",children:p})]},t))})]},s))})})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Matriz de Permissões por Usuário"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Visualização das permissões de cada usuário no sistema"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsxs("thead",{className:"bg-gray-50",children:[e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usuário"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Função"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",colSpan:"4",children:"Materiais"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",colSpan:"4",children:"Fornecedores"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",colSpan:"5",children:"Inventário"})]}),e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{}),e.jsx("th",{}),e.jsx("th",{}),e.jsx("th",{className:"px-2 py-2 text-xs font-medium text-gray-500",children:"Ver"}),e.jsx("th",{className:"px-2 py-2 text-xs font-medium text-gray-500",children:"Editar"}),e.jsx("th",{className:"px-2 py-2 text-xs font-medium text-gray-500",children:"Gerenciar"}),e.jsx("th",{className:"px-2 py-2 text-xs font-medium text-gray-500",children:"Deletar"}),e.jsx("th",{className:"px-2 py-2 text-xs font-medium text-gray-500",children:"Ver"}),e.jsx("th",{className:"px-2 py-2 text-xs font-medium text-gray-500",children:"Editar"}),e.jsx("th",{className:"px-2 py-2 text-xs font-medium text-gray-500",children:"Gerenciar"}),e.jsx("th",{className:"px-2 py-2 text-xs font-medium text-gray-500",children:"Deletar"}),e.jsx("th",{className:"px-2 py-2 text-xs font-medium text-gray-500",children:"Ver"}),e.jsx("th",{className:"px-2 py-2 text-xs font-medium text-gray-500",children:"Criar"}),e.jsx("th",{className:"px-2 py-2 text-xs font-medium text-gray-500",children:"Ajustar"}),e.jsx("th",{className:"px-2 py-2 text-xs font-medium text-gray-500",children:"Lote"}),e.jsx("th",{className:"px-2 py-2 text-xs font-medium text-gray-500",children:"Gerenciar"})]})]}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map(s=>{var a;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.user.name}),e.jsx("div",{className:"text-sm text-gray-500",children:s.user.email})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:((a=r[s.user.role])==null?void 0:a.name)||s.user.role})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.user.approved?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.user.approved?"Aprovado":"Pendente"})}),e.jsx("td",{className:"px-2 py-4 text-center",children:e.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium ${d(s.materials.view)}`,children:n(s.materials.view)})}),e.jsx("td",{className:"px-2 py-4 text-center",children:e.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium ${d(s.materials.edit)}`,children:n(s.materials.edit)})}),e.jsx("td",{className:"px-2 py-4 text-center",children:e.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium ${d(s.materials.manage)}`,children:n(s.materials.manage)})}),e.jsx("td",{className:"px-2 py-4 text-center",children:e.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium ${d(s.materials.delete)}`,children:n(s.materials.delete)})}),e.jsx("td",{className:"px-2 py-4 text-center",children:e.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium ${d(s.suppliers.view)}`,children:n(s.suppliers.view)})}),e.jsx("td",{className:"px-2 py-4 text-center",children:e.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium ${d(s.suppliers.edit)}`,children:n(s.suppliers.edit)})}),e.jsx("td",{className:"px-2 py-4 text-center",children:e.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium ${d(s.suppliers.manage)}`,children:n(s.suppliers.manage)})}),e.jsx("td",{className:"px-2 py-4 text-center",children:e.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium ${d(s.suppliers.delete)}`,children:n(s.suppliers.delete)})}),e.jsx("td",{className:"px-2 py-4 text-center",children:e.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium ${d(s.inventory.view)}`,children:n(s.inventory.view)})}),e.jsx("td",{className:"px-2 py-4 text-center",children:e.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium ${d(s.inventory.create)}`,children:n(s.inventory.create)})}),e.jsx("td",{className:"px-2 py-4 text-center",children:e.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium ${d(s.inventory.adjust)}`,children:n(s.inventory.adjust)})}),e.jsx("td",{className:"px-2 py-4 text-center",children:e.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium ${d(s.inventory.bulk)}`,children:n(s.inventory.bulk)})}),e.jsx("td",{className:"px-2 py-4 text-center",children:e.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium ${d(s.inventory.manage)}`,children:n(s.inventory.manage)})})]},s.user.id)})})]})})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Simulador de Permissões por Função"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Visualize as permissões de uma função específica"})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selecionar Função"}),e.jsxs("select",{value:l,onChange:m,className:"w-full md:w-1/3 rounded-lg border-gray-300 focus:border-purple-500 focus:ring-purple-500",children:[e.jsx("option",{value:"",children:"Selecione uma função..."}),Object.entries(r).map(([s,a])=>e.jsx("option",{value:s,children:a.name},s))]})]}),l&&r[l]&&e.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Materiais"}),e.jsx("div",{className:"space-y-2",children:Object.entries(i.materials).map(([s,a])=>{const t=r[l].materials.includes(s);return e.jsxs("div",{className:`flex items-center p-2 rounded ${t?"bg-green-50":"bg-red-50"}`,children:[e.jsx("span",{className:"mr-2",children:n(t)}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium",children:s}),e.jsx("div",{className:"text-xs text-gray-500",children:a})]})]},s)})})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Fornecedores"}),e.jsx("div",{className:"space-y-2",children:Object.entries(i.suppliers).map(([s,a])=>{const t=r[l].suppliers.includes(s);return e.jsxs("div",{className:`flex items-center p-2 rounded ${t?"bg-green-50":"bg-red-50"}`,children:[e.jsx("span",{className:"mr-2",children:n(t)}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium",children:s}),e.jsx("div",{className:"text-xs text-gray-500",children:a})]})]},s)})})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Inventário"}),e.jsx("div",{className:"space-y-2",children:Object.entries(i.inventory).map(([s,a])=>{const t=r[l].inventory.includes(s);return e.jsxs("div",{className:`flex items-center p-2 rounded ${t?"bg-green-50":"bg-red-50"}`,children:[e.jsx("span",{className:"mr-2",children:n(t)}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium",children:s}),e.jsx("div",{className:"text-xs text-gray-500",children:a})]})]},s)})})]})]})]})]})]})})]})}export{v as default};
