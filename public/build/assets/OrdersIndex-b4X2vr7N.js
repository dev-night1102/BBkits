import{r as u,x as J,j as e,Q as K,t as d,S as Q,V as n}from"./app-y5HK80UR.js";import{A as X}from"./AuthenticatedLayout-AXd8aV2f.js";import{f as m}from"./currency-nnCpYJTe.js";import{c as Y}from"./createLucideIcon-BUNVZJAk.js";import{X as I}from"./x-YDcRDhcA.js";import"./transition-BcAfktrH.js";/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ee=Y("package",Z);function ie({orders:r,statusFilter:i}){var F,E,L,S,M,$,B,V,z;const[a,j]=u.useState(null),[f,l]=u.useState(!1),[v,N]=u.useState("view"),[_,w]=u.useState(null),{data:x,setData:g,post:b,processing:h,errors:P,reset:R}=J({product_photo:null,notes:"",tracking_code:"",invoice_number:""}),G=(t,s)=>{const o=window.getSelection();o&&o.toString().length>0||t.target.tagName==="BUTTON"||t.target.closest("button")||t.target.tagName==="A"||t.target.closest("a")||(j(s),N("view"),l(!0),R())},D=t=>{if(t.order_status!=="payment_approved"){n.error(`Este pedido não pode iniciar produção. Status atual: ${t.order_status}`);return}b(`/production/orders/${t.id}/start`,{onSuccess:()=>{n.success("Produção iniciada com sucesso!"),l(!1),window.location.reload()},onError:s=>{if(console.error("Error starting production:",s),s.error)n.error(s.error);else if(s.validation){const o=Array.isArray(s.validation)?s.validation.join(", "):s.validation;n.error("Erro de validação: "+o)}else s.message?n.error(s.message):n.error("Erro ao iniciar produção. Verifique o status do pedido.")},onStart:()=>{n.loading("Iniciando produção...")},onFinish:()=>{n.dismiss()}})},O=()=>{if(!x.product_photo){n.error("Por favor, selecione uma foto do produto");return}b(`/production/orders/${a.id}/upload-photo`,{onSuccess:()=>{n.success("Foto enviada para aprovação!"),l(!1)}})},H=t=>{b(`/production/orders/${t.id}/generate-shipping`,{onSuccess:()=>{n.success("Etiqueta de envio gerada!")},onError:s=>{s.error?n.error(s.error):n.error("Erro ao gerar etiqueta de envio.")}})},W=t=>{const s=t.target.files[0];if(s){g("product_photo",s);const o=new FileReader;o.onloadend=()=>{w(o.result)},o.readAsDataURL(s)}},k=t=>{const s={payment_approved:"bg-green-100 text-green-800",in_production:"bg-blue-100 text-blue-800",photo_sent:"bg-purple-100 text-purple-800",photo_approved:"bg-indigo-100 text-indigo-800",pending_final_payment:"bg-orange-100 text-orange-800",ready_for_shipping:"bg-teal-100 text-teal-800",shipped:"bg-gray-100 text-gray-800"},o={payment_approved:"✅ Pronto para Produção",in_production:"🏭 Em Produção",photo_sent:"📸 Foto Enviada",photo_approved:"✨ Foto Aprovada",pending_final_payment:"💰 Aguardando Pagamento Final",ready_for_shipping:"📦 Pronto para Envio",shipped:"🚚 Enviado"};return e.jsx("span",{className:`px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium ${s[t]}`,children:o[t]})},C=t=>{switch(t.order_status){case"payment_approved":return e.jsx("button",{onClick:s=>{s.stopPropagation(),D(t)},disabled:h,className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Processando...":"Iniciar Produção"});case"in_production":return e.jsx("button",{onClick:s=>{s.stopPropagation(),j(t),N("photo"),l(!0)},className:"bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600 transition-colors text-sm",children:"Enviar Foto"});case"photo_sent":return e.jsx("span",{className:"text-purple-600 text-sm px-4 py-2 bg-purple-50 rounded-lg",children:"📱 Aguardando Cliente"});case"photo_approved":return e.jsx("span",{className:"text-indigo-600 text-sm px-4 py-2 bg-indigo-50 rounded-lg",children:"✅ Aguardando Pagamento"});case"pending_final_payment":return e.jsx("span",{className:"text-orange-600 text-sm px-4 py-2 bg-orange-50 rounded-lg",children:"💰 Aguardando Financeiro"});case"ready_for_shipping":return e.jsx("button",{onClick:s=>{s.stopPropagation(),H(t)},className:"bg-teal-500 text-white px-4 py-2 rounded-lg hover:bg-teal-600 transition-colors text-sm",children:"Gerar Envio"});default:return null}},A=t=>{const s=parseFloat(t.total_amount)+parseFloat(t.shipping_amount||0),o=t.payments?t.payments.filter(y=>y.status==="approved"):[],T=o.length>0?o.reduce((y,U)=>y+parseFloat(U.amount),0):parseFloat(t.received_amount||0),q=Math.max(0,s-T);return{totalAmount:s,paidAmount:T,remainingAmount:q,isFullyPaid:q<=0}},p=t=>new Date(t).toLocaleDateString("pt-BR"),c={payment_approved:((F=r.data)==null?void 0:F.filter(t=>t.order_status==="payment_approved").length)||0,in_production:((E=r.data)==null?void 0:E.filter(t=>t.order_status==="in_production").length)||0,photo_sent:((L=r.data)==null?void 0:L.filter(t=>t.order_status==="photo_sent").length)||0,photo_approved:((S=r.data)==null?void 0:S.filter(t=>t.order_status==="photo_approved").length)||0,pending_final_payment:((M=r.data)==null?void 0:M.filter(t=>t.order_status==="pending_final_payment").length)||0,ready_for_shipping:(($=r.data)==null?void 0:$.filter(t=>t.order_status==="ready_for_shipping").length)||0};return e.jsxs(e.Fragment,{children:[e.jsx(K,{title:"Gestão de Produção - Pedidos"}),e.jsxs(X,{header:e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6 rounded-lg shadow-lg",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"🏭 Gestão de Produção"}),e.jsx("p",{className:"text-blue-100 mt-1",children:"Gerencie o processo de produção e envio dos pedidos"})]}),children:[e.jsx("div",{className:"py-6 sm:py-8 lg:py-12 bg-gray-50 min-h-screen",children:e.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-md mb-4 sm:mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex flex-wrap gap-2 sm:gap-4 lg:gap-8 px-4 sm:px-6",children:[e.jsxs(d,{href:"/production/orders",className:`py-3 sm:py-4 px-2 sm:px-1 border-b-2 font-medium text-xs sm:text-sm ${!i||i==="all"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Todos (",r.total||0,")"]}),e.jsxs(d,{href:"/production/orders?status=payment_approved",className:`py-3 sm:py-4 px-2 sm:px-1 border-b-2 font-medium text-xs sm:text-sm ${i==="payment_approved"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Pronto p/ Produção (",c.payment_approved,")"]}),e.jsxs(d,{href:"/production/orders?status=in_production",className:`py-3 sm:py-4 px-2 sm:px-1 border-b-2 font-medium text-xs sm:text-sm ${i==="in_production"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Em Produção (",c.in_production,")"]}),e.jsxs(d,{href:"/production/orders?status=photo_sent",className:`py-3 sm:py-4 px-2 sm:px-1 border-b-2 font-medium text-xs sm:text-sm ${i==="photo_sent"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Foto Enviada (",c.photo_sent,")"]}),e.jsxs(d,{href:"/production/orders?status=photo_approved",className:`py-3 sm:py-4 px-2 sm:px-1 border-b-2 font-medium text-xs sm:text-sm ${i==="photo_approved"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Foto Aprovada (",c.photo_approved,")"]}),e.jsxs(d,{href:"/production/orders?status=pending_final_payment",className:`py-3 sm:py-4 px-2 sm:px-1 border-b-2 font-medium text-xs sm:text-sm ${i==="pending_final_payment"?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Pagamento Final (",c.pending_final_payment,")"]}),e.jsxs(d,{href:"/production/orders?status=ready_for_shipping",className:`py-3 sm:py-4 px-2 sm:px-1 border-b-2 font-medium text-xs sm:text-sm ${i==="ready_for_shipping"?"border-teal-500 text-teal-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Prontos p/ Envio (",c.ready_for_shipping,")"]})]})})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:(B=r.data)==null?void 0:B.map(t=>e.jsx("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer",onClick:s=>G(s,t),children:e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 gap-2",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 truncate",children:t.client_name}),k(t.order_status)]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"Kit:"})," ",t.child_name]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"Bordado:"})," ",t.embroidery_color," • ",t.embroidery_position]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"Vendedora:"})," ",t.user.name]}),t.production_started_at&&e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"Iniciado:"})," ",p(t.production_started_at)]})]}),e.jsx("div",{className:"border-t pt-4 mb-4",children:(()=>{const s=A(t);return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total com Frete:"}),e.jsx("span",{className:"font-semibold text-gray-900",children:m(s.totalAmount)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Valor Pago:"}),e.jsx("span",{className:`font-medium ${s.paidAmount>0?"text-green-600":"text-gray-500"}`,children:m(s.paidAmount)})]}),s.remainingAmount>0&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Restante:"}),e.jsx("span",{className:"font-medium text-orange-600",children:m(s.remainingAmount)})]}),t.payment_date&&e.jsxs("div",{className:"flex justify-between items-center text-xs",children:[e.jsx("span",{className:"text-gray-500",children:"Pago em:"}),e.jsx("span",{className:"text-gray-700",children:p(t.payment_date)})]})]})})()}),e.jsx("div",{className:"flex justify-center",children:C(t)})]})},t.id))}),r.links&&r.links.length>3&&e.jsx("div",{className:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6 rounded-b-lg",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Mostrando ",r.from||0," a ",r.to||0," de ",r.total," pedidos"]}),e.jsx("div",{className:"flex space-x-1",children:r.links.map((t,s)=>e.jsx("button",{onClick:()=>t.url&&Q.get(t.url),disabled:!t.url,className:`px-3 py-2 text-sm font-medium rounded ${t.active?"bg-indigo-600 text-white":t.url?"bg-white text-gray-700 hover:bg-gray-50 border":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:t.label}},s))})]})}),(!r.data||r.data.length===0)&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 sm:p-12 text-center",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx(ee,{className:"w-12 h-12 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum pedido na produção"}),e.jsx("p",{className:"text-gray-500",children:"Todos os pedidos foram processados ou não há pedidos pendentes."})]})]})}),f&&a&&v==="view"&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Detalhes do Pedido - ",a.client_name]}),e.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(I,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"flex-1 overflow-auto p-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Especificações do Produto"}),e.jsxs("div",{className:"space-y-3 bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Nome da Criança"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:a.child_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Posição do Bordado"}),e.jsx("p",{className:"text-gray-900",children:a.embroidery_position})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Cor do Bordado"}),e.jsx("p",{className:"text-gray-900",children:a.embroidery_color})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Fonte"}),e.jsx("p",{className:"text-gray-900",children:a.embroidery_font})]})]}),e.jsx("h4",{className:"text-lg font-semibold mt-6 mb-4",children:"Informações do Cliente"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Cliente"}),e.jsx("p",{className:"text-gray-900",children:a.client_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Telefone"}),e.jsx("p",{className:"text-gray-900",children:a.client_phone||"Não informado"})]}),a.unique_token&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Link do Cliente"}),e.jsxs("div",{className:"mt-1",children:[e.jsx("a",{href:`/pedido/${a.unique_token}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors",children:"🔗 Abrir Página do Cliente"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Token: ",a.unique_token]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Endereço de Entrega"}),e.jsx("p",{className:"text-gray-900",children:a.delivery_address?e.jsxs(e.Fragment,{children:[a.delivery_address,", ",a.delivery_number,e.jsx("br",{}),a.delivery_complement&&`${a.delivery_complement}, `,a.delivery_neighborhood,e.jsx("br",{}),a.delivery_city,"/",a.delivery_state," - ",a.delivery_zipcode]}):"Não informado"})]})]}),e.jsx("h4",{className:"text-lg font-semibold mt-6 mb-4",children:"Informações Financeiras"}),e.jsx("div",{className:"space-y-3 bg-blue-50 p-4 rounded-lg",children:(()=>{const t=A(a);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Total com Frete:"}),e.jsx("span",{className:"font-semibold text-gray-900",children:m(t.totalAmount)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Valor Pago:"}),e.jsx("span",{className:`font-medium ${t.paidAmount>0?"text-green-700":"text-gray-500"}`,children:m(t.paidAmount)})]}),t.remainingAmount>0&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Valor Restante:"}),e.jsx("span",{className:"font-medium text-orange-700",children:m(t.remainingAmount)})]}),a.payment_date&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Data do Pagamento:"}),e.jsx("span",{className:"text-gray-700",children:p(a.payment_date)})]}),t.isFullyPaid&&e.jsx("div",{className:"text-center",children:e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:"✅ Pagamento Completo"})})]})})()})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Status da Produção"}),e.jsxs("div",{className:"space-y-4",children:[k(a.order_status),a.production_started_at&&e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Produção Iniciada"}),e.jsx("p",{className:"text-blue-700",children:p(a.production_started_at)}),a.production_admin&&e.jsxs("p",{className:"text-sm text-blue-600",children:["Por: ",a.production_admin.name]})]}),a.photo_sent_at&&e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-purple-900",children:"Foto Enviada"}),e.jsx("p",{className:"text-purple-700",children:p(a.photo_sent_at)})]}),a.tracking_code&&e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-green-900",children:"Código de Rastreio"}),e.jsx("p",{className:"font-mono text-green-700",children:a.tracking_code})]})]}),a.notes&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-2",children:"Observações"}),e.jsx("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:a.notes})]})]})]})}),e.jsxs("div",{className:"flex justify-end gap-4 p-6 border-t bg-gray-50",children:[e.jsx("button",{onClick:()=>l(!1),className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Fechar"}),C(a)]})]})}),f&&a&&v==="photo"&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl transform transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-t-xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-white bg-opacity-20 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"📸 Enviar Foto do Produto"}),e.jsxs("p",{className:"text-purple-100 text-sm",children:["Kit: ",a.child_name]})]})]}),e.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-white hover:bg-opacity-20 rounded-lg transition-colors",children:e.jsx(I,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Foto do Produto Finalizado *"}),e.jsx("div",{className:"mt-1 flex justify-center px-6 pt-8 pb-8 border-2 border-gray-300 border-dashed rounded-xl hover:border-purple-400 hover:bg-purple-50 transition-all duration-200 bg-gray-50",children:e.jsx("div",{className:"space-y-2 text-center",children:_?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative inline-block",children:[e.jsx("img",{src:_,alt:"Preview do produto",className:"mx-auto h-48 w-auto rounded-lg shadow-md"}),e.jsx("button",{onClick:()=>{w(null),g("product_photo",null)},className:"absolute top-2 right-2 bg-red-500 text-white w-6 h-6 rounded-full hover:bg-red-600 transition-colors flex items-center justify-center text-xs",title:"Remover foto",children:"×"})]}),e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:(V=x.product_photo)==null?void 0:V.name}),e.jsx("p",{className:"text-xs text-green-600 font-medium",children:'✅ Foto selecionada! Clique em "Enviar" para continuar'})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"mx-auto h-16 w-16 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsxs("div",{className:"flex text-base text-gray-600",children:[e.jsxs("label",{htmlFor:"product_photo",className:"relative cursor-pointer rounded-md font-semibold text-purple-600 hover:text-purple-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-purple-500",children:[e.jsx("span",{className:"text-lg",children:"Clique para selecionar foto"}),e.jsx("input",{id:"product_photo",type:"file",className:"sr-only",accept:"image/jpeg,image/png,image/jpg",onChange:W,required:!0})]}),e.jsx("p",{className:"pl-2",children:"ou arraste e solte aqui"})]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Formatos aceitos: PNG, JPG, JPEG (máximo 5MB)"}),e.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"💡 Tire uma foto clara do produto finalizado para aprovação do cliente"})]})})}),P.product_photo&&e.jsxs("p",{className:"text-red-600 text-sm mt-2 flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),P.product_photo]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Observações (opcional)"}),e.jsx("textarea",{value:x.notes,onChange:t=>g("notes",t.target.value),rows:3,className:"w-full rounded-lg border-gray-300 focus:border-purple-500 focus:ring-purple-500 transition-colors shadow-sm",placeholder:"Adicione observações sobre o produto, detalhes especiais ou instruções...",maxLength:500}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[((z=x.notes)==null?void 0:z.length)||0,"/500 caracteres"]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t bg-gray-50 rounded-b-xl",children:[e.jsx("button",{onClick:()=>l(!1),className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-medium",children:"Cancelar"}),e.jsx("button",{onClick:O,disabled:h||!x.product_photo,className:"px-8 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed font-semibold shadow-md flex items-center space-x-2",children:h?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Enviando..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("span",{children:"Enviar para Aprovação"})]})})]})]})})]})]})}export{ie as default};
