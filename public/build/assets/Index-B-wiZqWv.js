import{r as u,j as e,Q as j,S as o}from"./app-B5tzjgxk.js";import{A as g}from"./AuthenticatedLayout-DiYMrB99.js";import{P as N}from"./PrimaryButton-C-0RNGID.js";import"./transition-CmZagQII.js";function k({auth:c,notifications:r=[]}){const[l,t]=u.useState(!1),m=s=>{t(!0),o.post(route("notifications.mark-as-read",s),{},{onFinish:()=>t(!1)})},x=()=>{t(!0),o.post(route("notifications.mark-all-read"),{},{onFinish:()=>t(!1)})},h=s=>({sale_approved:"🎉",sale_rejected:"❌",new_sale:"📋",goal_reached:"🎯",payment_approved:"✅",payment_rejected:"❌",payment_uploaded:"💰",production_started:"🏭",photo_sent:"📸",photo_approved:"✅",photo_rejected:"❌",order_shipped:"🚚",final_payment_reminder:"💰",new_user_registration:"👩‍💼"})[s]||"📌",p=s=>{const n=new Date,i=new Date(s),a=Math.floor((n-i)/1e3);return a<60?"agora mesmo":a<3600?`${Math.floor(a/60)} minutos atrás`:a<86400?`${Math.floor(a/3600)} horas atrás`:a<604800?`${Math.floor(a/86400)} dias atrás`:i.toLocaleDateString("pt-BR")},d=r.filter(s=>!s.read).length;return e.jsxs(g,{user:c.user,header:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:["Notificações ",d>0&&`(${d} não lidas)`]}),d>0&&e.jsx(N,{onClick:x,disabled:l,className:"text-sm",children:"Marcar todas como lidas"})]}),children:[e.jsx(j,{title:"Notificações"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsx("div",{className:"p-6",children:r.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🔔"}),e.jsx("p",{className:"text-gray-500",children:"Nenhuma notificação no momento"})]}):e.jsx("div",{className:"space-y-4",children:r.map(s=>e.jsxs("div",{className:`p-4 rounded-lg border ${s.read?"bg-gray-50 border-gray-200":"bg-pink-50 border-pink-200"} transition-colors duration-200`,children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"text-2xl",children:h(s.type)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:`text-sm ${s.read?"text-gray-600":"text-gray-900 font-medium"}`,children:s.message}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:p(s.created_at)})]})]}),!s.read&&e.jsx("button",{onClick:()=>m(s.id),disabled:l,className:"text-xs text-pink-600 hover:text-pink-800 font-medium",children:"Marcar como lida"})]}),s.data&&e.jsxs("div",{className:"mt-2 pl-11",children:[s.data.sale_id&&e.jsx("a",{href:`/sales/${s.data.sale_id}`,className:"text-xs text-pink-600 hover:text-pink-800",children:"Ver detalhes →"}),s.data.user_id&&s.type==="new_user_registration"&&e.jsx("a",{href:route("admin.users.index"),className:"text-xs text-pink-600 hover:text-pink-800",children:"Gerenciar usuários →"})]})]},s.id))})})})})})]})}export{k as default};
