import{r as g,x as K,j as e,Q as G,V as o}from"./app-C0SFCeMs.js";import{f as i}from"./currency-nnCpYJTe.js";function W({sale:s,orderStatus:F,orderStatusColor:P,paidAmount:z,remainingAmount:x,needsFinalPayment:A,productPhotoUrl:u}){var j;const[q,p]=g.useState(!1),[b,h]=g.useState(!s.delivery_address),[v,B]=g.useState(null),{data:r,setData:n,post:c,processing:m}=K({delivery_address:s.delivery_address||"",delivery_number:s.delivery_number||"",delivery_complement:s.delivery_complement||"",delivery_neighborhood:s.delivery_neighborhood||"",delivery_city:s.delivery_city||"",delivery_state:s.delivery_state||"",delivery_zipcode:s.delivery_zipcode||"",final_payment_proof:null,photo_approved:!1,photo_rejection_reason:""}),R=t=>{const d=t.target.files[0];if(d){n("final_payment_proof",d);const a=new FileReader;a.onloadend=()=>{B(a.result)},a.readAsDataURL(d)}},D=t=>{if(t.preventDefault(),["delivery_address","delivery_number","delivery_neighborhood","delivery_city","delivery_state","delivery_zipcode"].filter(l=>!r[l]||r[l].toString().trim()==="").length>0){o.error("Por favor, preencha todos os campos obrigatórios do endereço");return}c(route("sales.client.update-address",{token:s.unique_token}),{onSuccess:()=>{o.success("Endereço atualizado com sucesso!"),h(!1)}})},M=t=>{t.preventDefault(),c(route("sales.client.upload-payment",{token:s.unique_token}),{onSuccess:()=>{o.success("Comprovante enviado com sucesso!"),p(!1)}})},L=()=>{c(route("sales.client.approve-photo",{token:s.unique_token}),{data:{approved:!0},onSuccess:()=>{o.success("Foto aprovada! 🎉")}})},T=()=>{if(!r.photo_rejection_reason){o.error("Por favor, informe o motivo da solicitação de ajuste");return}c(route("sales.client.approve-photo",{token:s.unique_token}),{data:{approved:!1,reason:r.photo_rejection_reason},onSuccess:()=>{o.success("Solicitação de ajuste enviada")}})},O={yellow:"bg-yellow-100 text-yellow-800",green:"bg-green-100 text-green-800",blue:"bg-blue-100 text-blue-800",purple:"bg-purple-100 text-purple-800",indigo:"bg-indigo-100 text-indigo-800",orange:"bg-orange-100 text-orange-800",teal:"bg-teal-100 text-teal-800",gray:"bg-gray-100 text-gray-800"},V=["AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"];return e.jsxs(e.Fragment,{children:[e.jsx(G,{title:`Pedido - ${s.child_name}`}),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 to-purple-50",children:[e.jsx("div",{className:"bg-white shadow-sm",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center text-white text-2xl font-bold",children:"BB"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"BBKits"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Acompanhe seu pedido"})]})]}),e.jsx("div",{className:`px-4 py-2 rounded-full text-sm font-medium ${O[P]}`,children:F})]})})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:["Olá, ",s.client_name,"! 👋"]}),e.jsxs("p",{className:"text-gray-600",children:["Estamos preparando o kit da ",s.child_name," com muito carinho. Acompanhe todo o processo por aqui!"]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Progresso do Pedido"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:[{status:"pending_payment",label:"Pagamento",icon:"💳"},{status:"in_production",label:"Produção",icon:"🏭"},{status:"photo_sent",label:"Aprovação",icon:"📸"},{status:"ready_for_shipping",label:"Envio",icon:"📦"},{status:"shipped",label:"Entregue",icon:"🎉"}].map((t,d)=>{const a=["payment_approved","in_production","photo_sent","photo_approved","pending_final_payment","ready_for_shipping","shipped"].indexOf(s.order_status)>=d;return e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-xl ${a?"bg-purple-500 text-white":"bg-gray-200"}`,children:t.icon}),e.jsx("span",{className:`text-xs mt-1 ${a?"text-purple-600 font-medium":"text-gray-400"}`,children:t.label})]},t.status)})}),e.jsx("div",{className:"absolute top-6 left-0 right-0 h-0.5 bg-gray-200 -z-10"}),e.jsx("div",{className:"absolute top-6 left-0 h-0.5 bg-purple-500 -z-10 transition-all duration-500",style:{width:`${s.order_status==="pending_payment"?"0%":s.order_status==="payment_approved"||s.order_status==="in_production"?"25%":s.order_status==="photo_sent"||s.order_status==="photo_approved"||s.order_status==="pending_final_payment"?"50%":s.order_status==="ready_for_shipping"?"75%":s.order_status==="shipped"?"100%":"0%"}`}})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"🛍️ Detalhes do Pedido"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-4",children:"Produtos Comprados:"}),e.jsx("div",{className:"space-y-4",children:s.sale_products&&s.sale_products.length>0?s.sale_products.map((t,d)=>{var a,l,N,y,f,_,w,k,C,E,S;return e.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-4 text-white",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("h5",{className:"font-bold text-lg flex items-center gap-2",children:["🛍️ ",((a=t.product)==null?void 0:a.name)||"Produto Personalizado"]}),e.jsxs("div",{className:"text-blue-100 text-sm mt-1 flex flex-wrap gap-4",children:[e.jsxs("span",{className:"flex items-center gap-1",children:["📏 ",e.jsx("strong",{children:"Tamanho:"})," ",t.size||"N/A"]}),e.jsxs("span",{className:"flex items-center gap-1",children:["📦 ",e.jsx("strong",{children:"Quantidade:"})," ",t.quantity||1]}),e.jsxs("span",{className:"flex items-center gap-1",children:["💰 ",e.jsx("strong",{children:"Unitário:"})," ",i(t.unit_price||0)]})]})]}),e.jsxs("div",{className:"text-right ml-4",children:[e.jsx("div",{className:"text-blue-100 text-sm",children:"Total deste item"}),e.jsx("div",{className:"font-bold text-xl",children:i((t.unit_price||0)*(t.quantity||1))})]})]})}),e.jsxs("div",{className:"p-4 space-y-4",children:[((l=t.product)==null?void 0:l.description)&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"📝 Descrição do Produto"}),e.jsx("p",{className:"text-gray-800",children:t.product.description})]}),e.jsxs("div",{className:"bg-pink-50 rounded-lg p-4 border border-pink-200",children:[e.jsx("h6",{className:"font-semibold text-pink-800 mb-3 flex items-center gap-2",children:"🎨 Personalização deste Produto"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"bg-white/70 rounded-md p-2",children:[e.jsx("div",{className:"text-pink-600",children:"👶 Nome Bordado"}),e.jsxs("div",{className:"font-bold text-pink-900",children:['"',t.embroidery_text||s.child_name||"N/A",'"']})]}),e.jsxs("div",{className:"bg-white/70 rounded-md p-2",children:[e.jsx("div",{className:"text-pink-600",children:"🎭 Design Escolhido"}),e.jsx("div",{className:"font-semibold text-pink-900",children:((N=t.embroidery_design)==null?void 0:N.name)||((y=s.embroidery_design)==null?void 0:y.name)||"Design Personalizado"})]}),e.jsxs("div",{className:"bg-white/70 rounded-md p-2",children:[e.jsx("div",{className:"text-pink-600",children:"🔤 Fonte"}),e.jsx("div",{className:"font-semibold text-pink-900",children:((f=t.embroidery_font)==null?void 0:f.display_name)||((_=t.embroidery_font)==null?void 0:_.name)||s.embroidery_font||"Padrão"})]}),e.jsxs("div",{className:"bg-white/70 rounded-md p-2",children:[e.jsx("div",{className:"text-pink-600",children:"🌈 Cor do Bordado"}),e.jsx("div",{className:"font-semibold text-pink-900",children:((w=t.embroidery_color)==null?void 0:w.name)||s.embroidery_color||"Padrão"})]}),e.jsxs("div",{className:"bg-white/70 rounded-md p-2",children:[e.jsx("div",{className:"text-pink-600",children:"📍 Posição"}),e.jsx("div",{className:"font-semibold text-pink-900",children:((k=t.embroidery_position)==null?void 0:k.display_name)||((C=t.embroidery_position)==null?void 0:C.name)||s.embroidery_position||"Centro"})]}),((E=t.embroidery_design)==null?void 0:E.category)&&e.jsxs("div",{className:"bg-white/70 rounded-md p-2",children:[e.jsx("div",{className:"text-pink-600",children:"📂 Categoria"}),e.jsx("div",{className:"font-semibold text-pink-900",children:t.embroidery_design.category})]})]}),((S=t.embroidery_design)==null?void 0:S.image_url)&&e.jsxs("div",{className:"mt-3 p-3 bg-white rounded-lg border border-pink-200",children:[e.jsx("div",{className:"text-sm text-pink-600 mb-2",children:"🖼️ Preview do Design"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:t.embroidery_design.image_url,alt:t.embroidery_design.name,className:"w-16 h-16 rounded-lg object-cover border border-pink-200",onError:$=>{$.target.style.display="none"}}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-pink-900",children:t.embroidery_design.name}),t.embroidery_design.description&&e.jsx("div",{className:"text-xs text-pink-700 mt-1",children:t.embroidery_design.description})]})]})]}),(t.embroidery_cost>0||t.size_price>0)&&e.jsxs("div",{className:"mt-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("div",{className:"text-sm text-green-600 mb-2",children:"💰 Detalhamento de Preços"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-green-700",children:"Produto base:"}),e.jsx("span",{className:"font-medium",children:i((t.unit_price||0)-(t.size_price||0)-(t.embroidery_cost||0))})]}),t.size_price>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-green-700",children:["Acréscimo tamanho (",t.size,"):"]}),e.jsxs("span",{className:"font-medium",children:["+",i(t.size_price)]})]}),t.embroidery_cost>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-green-700",children:"Custo do bordado:"}),e.jsxs("span",{className:"font-medium",children:["+",i(t.embroidery_cost)]})]}),e.jsxs("div",{className:"border-t border-green-300 pt-1 flex justify-between font-bold",children:[e.jsx("span",{className:"text-green-800",children:"Total unitário:"}),e.jsx("span",{className:"text-green-600",children:i(t.unit_price||0)})]})]})]})]})]})]},d)}):e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6 border border-blue-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl mb-4",children:"🎁"}),e.jsx("div",{className:"font-bold text-xl text-gray-800 mb-3",children:s.product_category||"Kit Personalizado BBKits"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 text-sm",children:[e.jsxs("div",{className:"bg-white/70 rounded-lg p-3",children:[e.jsx("div",{className:"text-gray-600",children:"📏 Tamanho"}),e.jsx("div",{className:"font-semibold text-gray-900",children:s.product_size||"Padrão"})]}),e.jsxs("div",{className:"bg-white/70 rounded-lg p-3",children:[e.jsx("div",{className:"text-gray-600",children:"💰 Valor Total"}),e.jsx("div",{className:"font-bold text-green-700",children:i(s.total_amount||0)})]})]}),s.child_name&&e.jsxs("div",{className:"bg-pink-50 rounded-lg p-3 mb-4 border border-pink-200",children:[e.jsx("div",{className:"text-sm text-pink-600 mb-1",children:"✨ Personalização"}),e.jsxs("div",{className:"font-semibold text-pink-800",children:['Nome: "',s.child_name,'"']})]}),s.description&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-sm text-gray-700",children:[e.jsx("strong",{children:"Observações:"})," ",s.description]}),e.jsx("div",{className:"mt-4 p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:e.jsxs("div",{className:"text-sm text-yellow-700",children:["💡 ",e.jsx("strong",{children:"Seu kit personalizado inclui:"})," Kit com bordado personalizado, conforme especificações acordadas na venda."]})})]})})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-4",children:"📋 Resumo do Pedido:"}),e.jsx("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-100",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{className:"bg-white/70 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-purple-600",children:"👶 Nome da Criança"}),e.jsxs("div",{className:"font-bold text-purple-900 text-lg",children:['"',s.child_name||"N/A",'"']})]}),e.jsxs("div",{className:"bg-white/70 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-purple-600",children:"🛍️ Total de Produtos"}),e.jsxs("div",{className:"font-bold text-purple-900 text-lg",children:[s.sale_products?s.sale_products.reduce((t,d)=>t+(d.quantity||1),0):1," ","unidade",s.sale_products&&s.sale_products.reduce((t,d)=>t+(d.quantity||1),0)!==1?"s":""]})]}),e.jsxs("div",{className:"bg-white/70 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-purple-600",children:"💰 Valor Total"}),e.jsx("div",{className:"font-bold text-purple-900 text-lg",children:i(parseFloat(s.total_amount||0)+parseFloat(s.shipping_amount||0))})]})]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-4",children:"🎨 Especificações do Kit:"}),e.jsx("div",{className:"bg-orange-50 rounded-lg p-4 border border-orange-100",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-orange-600",children:"📋 Mesa livre"}),e.jsx("div",{className:"font-medium text-orange-900",children:s.mesa_livre_details||"Não especificado"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-orange-600",children:"🗝️ Chaveiros"}),e.jsx("div",{className:"font-medium text-orange-900",children:s.chaveiros||"Não especificado"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-orange-600",children:"🌈 Cor principal"}),e.jsx("div",{className:"font-medium text-orange-900",children:s.kit_main_color||"Não especificado"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-orange-600",children:"👜 Alças"}),e.jsx("div",{className:"font-medium text-orange-900",children:s.alcas||"Não especificado"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-orange-600",children:"🎀 Faixa"}),e.jsx("div",{className:"font-medium text-orange-900",children:s.faixa||"Não especificado"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-orange-600",children:"⭕ Friso"}),e.jsx("div",{className:"font-medium text-orange-900",children:s.friso||"Não especificado"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-orange-600",children:"📐 Viés"}),e.jsx("div",{className:"font-medium text-orange-900",children:s.vies||"Não especificado"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-orange-600",children:"🔒 Zíper"}),e.jsx("div",{className:"font-medium text-orange-900",children:s.ziper||"Não especificado"})]})]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-4",children:"📅 Cronograma de Produção:"}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-100",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-green-600",children:"🏭 Previsão de confecção"}),e.jsx("div",{className:"font-semibold text-green-900",children:s.production_estimate?new Date(s.production_estimate).toLocaleDateString("pt-BR"):"Não definido"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-green-600",children:"🚚 Previsão de entrega"}),e.jsx("div",{className:"font-semibold text-green-900",children:s.delivery_estimate?new Date(s.delivery_estimate).toLocaleDateString("pt-BR"):"Não definido"})]})]}),e.jsx("div",{className:"mt-3 p-3 bg-green-100 rounded-md",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-green-600 text-sm",children:"ℹ️"}),e.jsxs("div",{className:"text-green-700 text-sm",children:[e.jsx("strong",{children:"Importante:"})," Estas são previsões e podem sofrer alterações devido ao processo de produção e logística. Entraremos em contato caso haja mudanças significativas nas datas."]})]})})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-4",children:"💰 Resumo Financeiro:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal dos Produtos"}),e.jsx("span",{className:"font-medium",children:i(s.total_amount||0)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Frete"}),e.jsx("span",{className:"font-medium",children:i(s.shipping_amount||0)})]}),e.jsxs("div",{className:"flex justify-between items-center text-lg font-bold border-t pt-3",children:[e.jsx("span",{children:"Total do Pedido"}),e.jsx("span",{className:"text-green-600",children:i(parseFloat(s.total_amount||0)+parseFloat(s.shipping_amount||0))})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-blue-600",children:"Valor Já Pago"}),e.jsx("span",{className:"font-medium text-blue-600",children:i(z)})]}),x>0&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-orange-600",children:"Valor Restante"}),e.jsx("span",{className:"font-bold text-orange-600",children:i(x)})]})]})]})]}),s.order_status==="photo_sent"&&u&&e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"📸 Foto do Seu Kit"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Seu kit está pronto! Confira a foto e nos diga o que achou:"}),e.jsx("div",{className:"bg-gray-100 rounded-lg p-4 mb-4",children:e.jsx("img",{src:u,alt:"Foto do produto",className:"w-full rounded-lg shadow-md"})}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("button",{onClick:L,className:"w-full bg-green-500 text-white py-3 rounded-lg hover:bg-green-600 transition-colors font-medium",children:"✅ Aprovar - Está Perfeito!"}),e.jsxs("div",{children:[e.jsx("textarea",{value:r.photo_rejection_reason,onChange:t=>n("photo_rejection_reason",t.target.value),placeholder:"Se precisar de algum ajuste, descreva aqui...",className:"w-full rounded-lg border-gray-300 mb-2",rows:3}),e.jsx("button",{onClick:T,disabled:!r.photo_rejection_reason,className:"w-full bg-orange-500 text-white py-3 rounded-lg hover:bg-orange-600 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"🔄 Solicitar Ajuste"})]})]})]}),A&&e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-orange-900 mb-2",children:"💰 Pagamento Final Pendente"}),e.jsxs("p",{className:"text-orange-700 mb-4",children:["Falta apenas o pagamento de ",i(x)," para enviarmos seu pedido!"]}),q?e.jsxs("form",{onSubmit:M,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comprovante de Pagamento"}),e.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-lg hover:border-orange-400 transition-colors",children:e.jsx("div",{className:"space-y-1 text-center",children:v?e.jsxs("div",{children:[e.jsx("img",{src:v,alt:"Preview",className:"mx-auto h-32 w-auto rounded"}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:(j=r.final_payment_proof)==null?void 0:j.name})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),e.jsx("div",{className:"flex text-sm text-gray-600",children:e.jsxs("label",{htmlFor:"final_payment_proof",className:"relative cursor-pointer rounded-md bg-white font-medium text-orange-600 hover:text-orange-500",children:[e.jsx("span",{children:"Enviar arquivo"}),e.jsx("input",{id:"final_payment_proof",type:"file",className:"sr-only",accept:"image/*,application/pdf",onChange:R,required:!0})]})}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, PDF até 2MB"})]})})})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{type:"button",onClick:()=>p(!1),className:"flex-1 bg-gray-200 text-gray-700 py-2 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:m||!r.final_payment_proof,className:"flex-1 bg-orange-500 text-white py-2 rounded-lg hover:bg-orange-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Enviando...":"Enviar Comprovante"})]})]}):e.jsx("button",{onClick:()=>p(!0),className:"bg-orange-500 text-white px-6 py-2 rounded-lg hover:bg-orange-600 transition-colors",children:"Enviar Comprovante"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"📍 Endereço de Entrega"}),!b&&s.delivery_address&&e.jsx("button",{onClick:()=>h(!0),className:"text-purple-600 hover:text-purple-700 text-sm",children:"Editar"})]}),!b&&s.delivery_address?e.jsxs("div",{className:"text-gray-700",children:[e.jsxs("p",{children:[s.delivery_address,", ",s.delivery_number]}),s.delivery_complement&&e.jsx("p",{children:s.delivery_complement}),e.jsx("p",{children:s.delivery_neighborhood}),e.jsxs("p",{children:[s.delivery_city,"/",s.delivery_state," - CEP: ",s.delivery_zipcode]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-amber-500 text-lg",children:"⚠️"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-amber-800 font-medium",children:"Endereço Obrigatório"}),e.jsx("p",{className:"text-amber-700 text-sm",children:"Para finalizar seu pedido, precisamos do seu endereço de entrega completo. Preencha todos os campos abaixo."})]})]})}),e.jsxs("form",{onSubmit:D,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Endereço *"}),e.jsx("input",{type:"text",value:r.delivery_address,onChange:t=>n("delivery_address",t.target.value),className:"w-full rounded-lg border-gray-300",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Número *"}),e.jsx("input",{type:"text",value:r.delivery_number,onChange:t=>n("delivery_number",t.target.value),className:"w-full rounded-lg border-gray-300",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Complemento"}),e.jsx("input",{type:"text",value:r.delivery_complement,onChange:t=>n("delivery_complement",t.target.value),className:"w-full rounded-lg border-gray-300"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bairro *"}),e.jsx("input",{type:"text",value:r.delivery_neighborhood,onChange:t=>n("delivery_neighborhood",t.target.value),className:"w-full rounded-lg border-gray-300",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cidade *"}),e.jsx("input",{type:"text",value:r.delivery_city,onChange:t=>n("delivery_city",t.target.value),className:"w-full rounded-lg border-gray-300",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado *"}),e.jsxs("select",{value:r.delivery_state,onChange:t=>n("delivery_state",t.target.value),className:"w-full rounded-lg border-gray-300",required:!0,children:[e.jsx("option",{value:"",children:"Selecione..."}),V.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CEP *"}),e.jsx("input",{type:"text",value:r.delivery_zipcode,onChange:t=>n("delivery_zipcode",t.target.value),className:"w-full rounded-lg border-gray-300",placeholder:"00000-000",required:!0})]})]}),e.jsxs("div",{className:"flex gap-4",children:[s.delivery_address&&e.jsx("button",{type:"button",onClick:()=>h(!1),className:"flex-1 bg-gray-200 text-gray-700 py-2 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:m,className:"flex-1 bg-purple-600 text-white py-2 rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50",children:m?"Salvando...":"Salvar Endereço"})]})]})]})]}),s.order_status==="shipped"&&s.tracking_code&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-2",children:"🚚 Pedido Enviado!"}),e.jsx("p",{className:"text-green-700 mb-2",children:"Seu pedido está a caminho! Acompanhe a entrega:"}),e.jsxs("p",{className:"font-mono text-lg text-green-900",children:["Código de Rastreio: ",s.tracking_code]})]}),e.jsxs("div",{className:"bg-purple-50 rounded-xl p-6 text-center",children:[e.jsx("p",{className:"text-purple-700 mb-2",children:"Ficou com alguma dúvida? Entre em contato:"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs("a",{href:`https://wa.me/5581982233873?text=Olá! Meu pedido é ${s.unique_token} - ${s.child_name}. Cliente: ${s.client_name}`,className:"inline-flex items-center justify-center gap-2 bg-green-500 text-white px-6 py-2 rounded-lg hover:bg-green-600 transition-colors",target:"_blank",rel:"noopener noreferrer",children:[e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})}),"WhatsApp"]}),e.jsxs("a",{href:"mailto:vendas@bbkits.com.br",className:"inline-flex items-center justify-center gap-2 bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"E-mail"]})]})]})]})]})]})}export{W as default};
