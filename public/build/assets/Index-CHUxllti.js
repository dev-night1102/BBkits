import{r as u,x as N,j as e,Q as w,V as d,S as k}from"./app-Cz0n3fZy.js";import{A as F}from"./AuthenticatedLayout-CUokAfm6.js";import{F as C,a as _,b as S}from"./TrashIcon-G9bA-lk-.js";import"./transition-zBYBybfp.js";function D({auth:p,ranges:g}){const[r,o]=u.useState(null),[m,n]=u.useState(!1),{data:i,setData:t,post:h,put:f,processing:l,reset:c,errors:a}=N({min_amount:"",max_amount:"",percentage:"",order:"",active:!0}),x=s=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(s),b=s=>{s.preventDefault(),r?f(route("admin.commission-ranges.update",r),{onSuccess:()=>{d.success("Faixa de comissão atualizada com sucesso!"),o(null),c()}}):h(route("admin.commission-ranges.store"),{onSuccess:()=>{d.success("Faixa de comissão criada com sucesso!"),n(!1),c()}})},y=s=>{o(s.id),n(!1),t({min_amount:s.min_amount,max_amount:s.max_amount||"",percentage:s.percentage,order:s.order,active:s.active})},j=s=>{confirm("Tem certeza que deseja remover esta faixa de comissão?")&&k.delete(route("admin.commission-ranges.destroy",s),{onSuccess:()=>d.success("Faixa de comissão removida com sucesso!")})},v=()=>{o(null),n(!1),c()};return e.jsxs(F,{user:p.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Gerenciar Faixas de Comissão"}),children:[e.jsx(w,{title:"Faixas de Comissão"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Faixas de Comissão Ativas"}),!m&&!r&&e.jsxs("button",{onClick:()=>n(!0),className:"inline-flex items-center px-4 py-2 bg-pink-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-pink-700 focus:bg-pink-700 active:bg-pink-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150",children:[e.jsx(C,{className:"w-5 h-5 mr-2"}),"Nova Faixa"]})]}),(m||r)&&e.jsxs("form",{onSubmit:b,className:"mb-6 p-6 bg-gray-50 rounded-lg",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:r?"Editar Faixa de Comissão":"Adicionar Nova Faixa"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Valor Mínimo (R$)"}),e.jsx("input",{type:"number",value:i.min_amount,onChange:s=>t("min_amount",s.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-pink-500 focus:ring-pink-500",required:!0,step:"0.01"}),a.min_amount&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.min_amount})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Valor Máximo (R$)"}),e.jsx("input",{type:"number",value:i.max_amount,onChange:s=>t("max_amount",s.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-pink-500 focus:ring-pink-500",step:"0.01",placeholder:"Deixe vazio para sem limite"}),a.max_amount&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.max_amount})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Percentual (%)"}),e.jsx("input",{type:"number",value:i.percentage,onChange:s=>t("percentage",s.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-pink-500 focus:ring-pink-500",required:!0,step:"0.01",min:"0",max:"100"}),a.percentage&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.percentage})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ordem"}),e.jsx("input",{type:"number",value:i.order,onChange:s=>t("order",s.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-pink-500 focus:ring-pink-500",placeholder:"0"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:i.active,onChange:s=>t("active",s.target.checked),className:"h-4 w-4 text-pink-600 focus:ring-pink-500 border-gray-300 rounded",id:"active"}),e.jsx("label",{htmlFor:"active",className:"ml-2 block text-sm text-gray-900",children:"Ativa"})]})]}),e.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[e.jsx("button",{type:"button",onClick:v,className:"inline-flex items-center px-4 py-2 bg-gray-300 border border-transparent rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest hover:bg-gray-400 focus:bg-gray-400 active:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition ease-in-out duration-150",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:l,className:"inline-flex items-center px-4 py-2 bg-pink-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-pink-700 focus:bg-pink-700 active:bg-pink-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150",children:l?"Salvando...":"Salvar"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Faixa"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Percentual"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ordem"}),e.jsx("th",{className:"relative px-6 py-3",children:e.jsx("span",{className:"sr-only",children:"Ações"})})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(s=>e.jsxs("tr",{children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[x(s.min_amount)," - ",s.max_amount?x(s.max_amount):"Sem limite"]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[s.percentage,"%"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${s.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.active?"Ativa":"Inativa"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.order}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsx("button",{onClick:()=>y(s),className:"text-indigo-600 hover:text-indigo-900 mr-3",children:e.jsx(_,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>j(s.id),className:"text-red-600 hover:text-red-900",children:e.jsx(S,{className:"w-5 h-5"})})]})]},s.id))})]})})]})})})})]})}export{D as default};
