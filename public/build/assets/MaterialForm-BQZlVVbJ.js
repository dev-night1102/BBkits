import{x as j,j as e,t as v,V as p}from"./app-BaYMHnyA.js";function N({material:s=null,suppliers:u=[]}){const{data:d,setData:l,post:m,put:x,processing:n,errors:t}=j({reference:(s==null?void 0:s.reference)||"",name:(s==null?void 0:s.name)||"",unit:(s==null?void 0:s.unit)||"m",purchase_price:(s==null?void 0:s.purchase_price)||"",supplier_id:(s==null?void 0:s.supplier_id)||"",secondary_supplier_id:(s==null?void 0:s.secondary_supplier_id)||"",lead_time_days:(s==null?void 0:s.lead_time_days)||0,current_stock:(s==null?void 0:s.current_stock)||0,minimum_stock:(s==null?void 0:s.minimum_stock)||0,purchase_multiple:(s==null?void 0:s.purchase_multiple)||1,weight_per_unit:(s==null?void 0:s.weight_per_unit)||"",is_active:(s==null?void 0:s.is_active)??!0}),c=!!s,g=r=>{r.preventDefault();const b=c?"put":"post",o=c?"admin.materials.update":"admin.materials.store",_=c?[s.id]:[],i={onSuccess:()=>{p.success(c?"Material atualizado com sucesso!":"Material criado com sucesso!")},onError:a=>{Object.keys(a).forEach(f=>{p.error(a[f])})}};b==="post"?m(route(o),i):x(route(o,_),i)},h=[{value:"m",label:"Metro (m)"},{value:"cm",label:"Centímetro (cm)"},{value:"g",label:"Grama (g)"},{value:"kg",label:"Quilograma (kg)"},{value:"unit",label:"Unidade"},{value:"pair",label:"Par"},{value:"roll",label:"Rolo"}];return e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("form",{onSubmit:g,className:"space-y-6 p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Referência *"}),e.jsx("input",{type:"text",value:d.reference,onChange:r=>l("reference",r.target.value),className:`w-full rounded-lg border-gray-300 focus:border-purple-500 focus:ring-purple-500 ${t.reference?"border-red-500":""}`,placeholder:"Ex: CR20, RS25, OF32",required:!0}),t.reference&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.reference})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Material *"}),e.jsx("input",{type:"text",value:d.name,onChange:r=>l("name",r.target.value),className:`w-full rounded-lg border-gray-300 focus:border-purple-500 focus:ring-purple-500 ${t.name?"border-red-500":""}`,placeholder:"Ex: Laminado Sintético, Gorgorão 3cm",required:!0}),t.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unidade de Medida *"}),e.jsx("select",{value:d.unit,onChange:r=>l("unit",r.target.value),className:`w-full rounded-lg border-gray-300 focus:border-purple-500 focus:ring-purple-500 ${t.unit?"border-red-500":""}`,required:!0,children:h.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))}),t.unit&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.unit})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preço de Compra (R$) *"}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:d.purchase_price,onChange:r=>l("purchase_price",r.target.value),className:`w-full rounded-lg border-gray-300 focus:border-purple-500 focus:ring-purple-500 ${t.purchase_price?"border-red-500":""}`,placeholder:"0.00",required:!0}),t.purchase_price&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.purchase_price})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fornecedor Principal"}),e.jsxs("select",{value:d.supplier_id,onChange:r=>l("supplier_id",r.target.value),className:`w-full rounded-lg border-gray-300 focus:border-purple-500 focus:ring-purple-500 ${t.supplier_id?"border-red-500":""}`,children:[e.jsx("option",{value:"",children:"Selecione um fornecedor"}),u.map(r=>e.jsx("option",{value:r.id,children:r.name},r.id))]}),t.supplier_id&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.supplier_id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fornecedor Secundário"}),e.jsxs("select",{value:d.secondary_supplier_id,onChange:r=>l("secondary_supplier_id",r.target.value),className:`w-full rounded-lg border-gray-300 focus:border-purple-500 focus:ring-purple-500 ${t.secondary_supplier_id?"border-red-500":""}`,children:[e.jsx("option",{value:"",children:"Selecione um fornecedor"}),u.filter(r=>r.id!=d.supplier_id).map(r=>e.jsx("option",{value:r.id,children:r.name},r.id))]}),t.secondary_supplier_id&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.secondary_supplier_id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prazo de Entrega (dias) *"}),e.jsx("input",{type:"number",min:"0",value:d.lead_time_days,onChange:r=>l("lead_time_days",r.target.value),className:`w-full rounded-lg border-gray-300 focus:border-purple-500 focus:ring-purple-500 ${t.lead_time_days?"border-red-500":""}`,required:!0}),t.lead_time_days&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.lead_time_days})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Múltiplo de Compra *"}),e.jsx("input",{type:"number",min:"1",value:d.purchase_multiple,onChange:r=>l("purchase_multiple",r.target.value),className:`w-full rounded-lg border-gray-300 focus:border-purple-500 focus:ring-purple-500 ${t.purchase_multiple?"border-red-500":""}`,placeholder:"Ex: 100 (para pacotes de 100 unidades)",required:!0}),t.purchase_multiple&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.purchase_multiple})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estoque Atual *"}),e.jsx("input",{type:"number",step:"0.001",min:"0",value:d.current_stock,onChange:r=>l("current_stock",r.target.value),className:`w-full rounded-lg border-gray-300 focus:border-purple-500 focus:ring-purple-500 ${t.current_stock?"border-red-500":""}`,required:!0}),t.current_stock&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.current_stock})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estoque Mínimo *"}),e.jsx("input",{type:"number",step:"0.001",min:"0",value:d.minimum_stock,onChange:r=>l("minimum_stock",r.target.value),className:`w-full rounded-lg border-gray-300 focus:border-purple-500 focus:ring-purple-500 ${t.minimum_stock?"border-red-500":""}`,required:!0}),t.minimum_stock&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.minimum_stock})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Peso/Volume por Unidade"}),e.jsx("input",{type:"number",step:"0.001",min:"0",value:d.weight_per_unit,onChange:r=>l("weight_per_unit",r.target.value),className:`w-full rounded-lg border-gray-300 focus:border-purple-500 focus:ring-purple-500 ${t.weight_per_unit?"border-red-500":""}`,placeholder:"Opcional"}),t.weight_per_unit&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.weight_per_unit})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:d.is_active,onChange:r=>l("is_active",r.target.checked),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-700",children:"Material ativo no sistema"})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[e.jsx(v,{href:route("admin.materials.index"),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50",children:n?"Salvando...":c?"Atualizar":"Criar Material"})]})]})})}export{N as M};
