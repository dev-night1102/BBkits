import{r as s,x as w,j as e,Q as k,V as x,S as N}from"./app-vPGu1-Ks.js";import{A as C}from"./AuthenticatedLayout-CrgCo1hI.js";/* empty css            */import"./transition-B1a7D--F.js";function F({title:r,titleId:n,...a},i){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},a),r?s.createElement("title",{id:n},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const _=s.forwardRef(F);function E({title:r,titleId:n,...a},i){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},a),r?s.createElement("title",{id:n},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const L=s.forwardRef(E);function S({title:r,titleId:n,...a},i){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},a),r?s.createElement("title",{id:n},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const R=s.forwardRef(S);function D({auth:r,ranges:n}){const[a,i]=s.useState(null),[u,l]=s.useState(!1),{data:d,setData:o,post:g,put:f,processing:p,reset:m,errors:c}=w({min_amount:"",max_amount:"",percentage:"",order:"",active:!0}),h=t=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t),b=t=>{t.preventDefault(),a?f(route("admin.commission-ranges.update",a),{onSuccess:()=>{x.success("Faixa de comissão atualizada com sucesso!"),i(null),m()}}):g(route("admin.commission-ranges.store"),{onSuccess:()=>{x.success("Faixa de comissão criada com sucesso!"),l(!1),m()}})},v=t=>{i(t.id),l(!1),o({min_amount:t.min_amount,max_amount:t.max_amount||"",percentage:t.percentage,order:t.order,active:t.active})},j=t=>{confirm("Tem certeza que deseja remover esta faixa de comissão?")&&N.delete(route("admin.commission-ranges.destroy",t),{onSuccess:()=>x.success("Faixa de comissão removida com sucesso!")})},y=()=>{i(null),l(!1),m()};return e.jsxs(C,{user:r.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Gerenciar Faixas de Comissão"}),children:[e.jsx(k,{title:"Faixas de Comissão"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Faixas de Comissão Ativas"}),!u&&!a&&e.jsxs("button",{onClick:()=>l(!0),className:"inline-flex items-center px-4 py-2 bg-pink-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-pink-700 focus:bg-pink-700 active:bg-pink-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150",children:[e.jsx(L,{className:"w-5 h-5 mr-2"}),"Nova Faixa"]})]}),(u||a)&&e.jsxs("form",{onSubmit:b,className:"mb-6 p-6 bg-gray-50 rounded-lg",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:a?"Editar Faixa de Comissão":"Adicionar Nova Faixa"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Valor Mínimo (R$)"}),e.jsx("input",{type:"number",value:d.min_amount,onChange:t=>o("min_amount",t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-pink-500 focus:ring-pink-500",required:!0,step:"0.01"}),c.min_amount&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.min_amount})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Valor Máximo (R$)"}),e.jsx("input",{type:"number",value:d.max_amount,onChange:t=>o("max_amount",t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-pink-500 focus:ring-pink-500",step:"0.01",placeholder:"Deixe vazio para sem limite"}),c.max_amount&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.max_amount})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Percentual (%)"}),e.jsx("input",{type:"number",value:d.percentage,onChange:t=>o("percentage",t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-pink-500 focus:ring-pink-500",required:!0,step:"0.01",min:"0",max:"100"}),c.percentage&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.percentage})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ordem"}),e.jsx("input",{type:"number",value:d.order,onChange:t=>o("order",t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-pink-500 focus:ring-pink-500",placeholder:"0"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:d.active,onChange:t=>o("active",t.target.checked),className:"h-4 w-4 text-pink-600 focus:ring-pink-500 border-gray-300 rounded",id:"active"}),e.jsx("label",{htmlFor:"active",className:"ml-2 block text-sm text-gray-900",children:"Ativa"})]})]}),e.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[e.jsx("button",{type:"button",onClick:y,className:"inline-flex items-center px-4 py-2 bg-gray-300 border border-transparent rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest hover:bg-gray-400 focus:bg-gray-400 active:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition ease-in-out duration-150",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:p,className:"inline-flex items-center px-4 py-2 bg-pink-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-pink-700 focus:bg-pink-700 active:bg-pink-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150",children:p?"Salvando...":"Salvar"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Faixa"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Percentual"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ordem"}),e.jsx("th",{className:"relative px-6 py-3",children:e.jsx("span",{className:"sr-only",children:"Ações"})})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(t=>e.jsxs("tr",{children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[h(t.min_amount)," - ",t.max_amount?h(t.max_amount):"Sem limite"]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[t.percentage,"%"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${t.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:t.active?"Ativa":"Inativa"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.order}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsx("button",{onClick:()=>v(t),className:"text-indigo-600 hover:text-indigo-900 mr-3",children:e.jsx(_,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>j(t.id),className:"text-red-600 hover:text-red-900",children:e.jsx(R,{className:"w-5 h-5"})})]})]},t.id))})]})})]})})})})]})}export{D as default};
